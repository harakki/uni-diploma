## Plan: Разработка MVP "MangaDex" (Модульный Монолит)

Этот план ориентирован на быстрое создание MVP (Минимально Жизнеспособного Продукта), чтобы получить работающую "читалку" как можно скорее, а затем наращивать функционал рекомендаций для диплома.

### Этап 1: Фундамент и Хранение Данных (Backend)
**Цель:** Научиться сохранять и отдавать контент (мангу и изображения).
1. **Структура БД:** Создать JPA сущности в пакете `core` или `catalog`: `Manga`, `Chapter`, `Page`, `Author`, `Genre`.
2. **Интеграция MinIO:** Настроить `MinioClient` (библиотека `minio-java`) для загрузки и скачивания изображений.
3. **API Каталога:** Реализовать REST-контроллеры для получения списка тайтлов и информации о главах.
4. **Загрузчик (Admin API):** Простой эндпоинт для загрузки архива с главой, который распаковывает картинки в MinIO и создает записи в БД.

### Этап 2: Базовый Фронтенд (Vue.js)
**Цель:** Пользователь может видеть список манги и читать её.
*Так как вы не знакомы с Vue, рекомендую использовать **Vite** для сборки и библиотеку компонентов **PrimeVue** или **Vuetify**, чтобы не верстать всё с нуля.*
1. **Инициализация:** Создать проект `frontend` внутри репозитория (или отдельно) через `npm create vite@latest`.
2. **Каталог:** Создать страницу со списком карточек манги (используя данные с бэкенда).
3. **Страница тайтла:** Вывод описания, обложки и списка глав.
4. **Компонент Читалки:** Самая важная часть. Реализовать простой просмотрщик изображений (вертикальный скролл или переключение по клику), подгружающий картинки из MinIO через бэкенд.

### Этап 3: Пользователи и История (Backend + Keycloak)
**Цель:** Идентифицировать пользователя и запоминать, что он читал.
1. **Keycloak:** Добавить сервис Keycloak в `compose.yaml`, настроить реалм и клиент.
2. **Security:** Подключить `spring-boot-starter-oauth2-resource-server` для защиты API.
3. **Профиль:** Создать сущность `UserProfile` в БД, привязанную к ID из Keycloak.
4. **Трекинг:** Реализовать сохранение прогресса чтения (на какой странице остановился) и статусов ("Читаю", "Брошено").

### Этап 4: Рекомендательная Система (MVP)
**Цель:** Реализовать "фишку" диплома.
1. **Сбор метрик:** Логировать события: `VIEW_TITLE`, `READ_CHAPTER`, `LIKE_TITLE`.
2. **Простой алгоритм:** Реализовать "Content-Based" фильтрацию (рекомендовать тайтлы с похожими жанрами/тегами, что и у тех, которые лайкнул юзер).
3. **Виджет:** Добавить блок "Вам может понравиться" на главную и в "читалку".

### Дальнейшие шаги
1. **Модульность:** Разделить код на логические пакеты (`features.catalog`, `features.identity`, `features.recommendations`) для соблюдения архитектуры Modular Monolith.
2. **Kafka:** Внедрить Kafka для асинхронной обработки событий просмотра (чтобы расчет рекомендаций не тормозил выдачу страниц).
3. **PWA:** Добавить Service Worker для кэширования страниц (чтение офлайн).

### Рекомендации
*   **Vue.js:** Начните с изучения **Composition API** (стиль `<script setup>`) — это современный стандарт Vue 3.
